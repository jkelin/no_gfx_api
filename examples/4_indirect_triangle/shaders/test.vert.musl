
Vertex :: struct
{
    pos: vec4,
    color: vec4
}

Data :: struct
{
    verts: []Vertex,
}

Output :: struct
{
    pos: vec4 @position,
    color: vec4 @out_loc(0),
}

main :: (vert_id: uint @vert_id, data: ^Data @data, indirect_data: ^Data @indirect_data) -> Output
{
    vert_out: Output;

    // you can use `indirect_data` to get data for the current draw, `data` is shared between all draws
    // this example has just a single draw, so both are the same

    vert_out.pos = vec4(data.verts[vert_id].pos.xyz, 1.0);
    vert_out.color = indirect_data.verts[vert_id].color;
    return vert_out;
}
